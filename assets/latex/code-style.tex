% Code-Block Formatierung fuer Zeilenumbruch in PDF
\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,breakanywhere,commandchars=\\\{\},fontsize=\footnotesize}

% Verbatim-Output auch umbrechen (fuer Pandas DataFrames etc.)
\usepackage{fancyvrb}
\fvset{breaklines=true,breakanywhere=true,fontsize=\footnotesize}
\RecustomVerbatimEnvironment{verbatim}{Verbatim}{breaklines,breakanywhere,fontsize=\footnotesize}

% Lange Zeilen in Output umbrechen
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily\footnotesize,
  breaklines=true,
  breakatwhitespace=false,
  breakautoindent=true,
  postbreak=\mbox{\textcolor{gray}{$\hookrightarrow$}\space}
}

% Tabellen auf Seitenbreite skalieren
\usepackage{adjustbox}
\usepackage{etoolbox}

% Longtable kleinere Schrift
\AtBeginEnvironment{longtable}{\footnotesize}
\AtBeginEnvironment{tabular}{\footnotesize}

% Alle Tabellen automatisch skalieren
\let\oldlongtable\longtable
\let\endoldlongtable\endlongtable
\renewenvironment{longtable}{\begin{adjustbox}{max width=\textwidth}\oldlongtable}{\endoldlongtable\end{adjustbox}}
